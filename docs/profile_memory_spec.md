# 団体プロフィール情報の記憶・表示機能 仕様書

## 概要

インタビュー中に団体の基本情報を自動抽出し、プロフィールに保存する機能を実装。

## 対象項目

| 項目 | カテゴリ名 | アイコン | 説明 |
|------|-----------|----------|------|
| 団体名 | `org_name` | 🏢 | 団体の正式名称 |
| 代表者名 | `representative_name` | 👤 | 代表者の氏名 |
| 連絡先電話番号 | `phone_number` | 📞 | 連絡先電話番号 |
| ホームページ | `website_url` | 🌐 | WebサイトURL |
| メールアドレス | `email_address` | 📧 | 連絡先メールアドレス |
| 設立年 | `founding_year` | 📅 | 設立年（西暦） |
| 年間予算 | `annual_budget` | 💰 | 年間予算規模 |
| プロジェクト名 | `project_name` | 🚀 | 申請プロジェクト名 |

## 使用方法

### 情報の記憶

インタビュー中に自然な会話の中で情報を伝えることで自動的に記憶されます。

**例**:
```
ユーザー: 団体名は「NPO法人○○」で、代表は田中太郎です。
         電話番号は03-1234-5678、メールは info@example.org です。
```

### プロフィール表示

Discord上で以下のコマンドでプロフィールを確認できます：
- `プロフィール`
- `団体情報`
- `Soul Profile`

### ドラフト作成での利用

ドラフト作成時、保存された団体情報は自動的に参照され、申請書に反映されます。

## 変更ファイル

| ファイル | 変更内容 |
|----------|----------|
| `config/prompts.yaml` | `insight_extractor`プロンプトに7つの新カテゴリを追加 |
| `src/memory/profile_manager.py` | 表示ラベルとセクション構成を更新 |

## 技術詳細

### 情報抽出フロー

```
ユーザー入力 → InterviewerAgent → _extract_insights() → ProfileManager → 保存
```

### プロフィール表示フロー

```
「プロフィール」コマンド → Orchestrator → VIEW_PROFILE → ProfileManager.get_profile_context() → 表示
```

## 注意事項

- 既存の`organization_info`と`contact_info`カテゴリは後方互換性のため維持
- 新しい個別カテゴリは「団体詳細情報」セクションの先頭に表示
